</<!DOCTYPE html>
<html>
    <head>
        <title>Hamza Khan - Portfolio</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700" rel="stylesheet">
        <link rel="stylesheet" href="stylesheets/main.css">
    </head>
    <body>
        
        <header>
            <div class="animated fadeInLeft" id="me-container">
                
                <div class="img" href="#">
                    <img src="static/me.jpg"/>
                </div>
                
                <div id="buttons">
                    <button id="project-btn" type="button" class="btn btn-outline-secondary">Projects</button>
                    <!--you messed up here-->
                    <button id="about-btn" class="btn btn-outline-secondary">About</button>
                    <button id="achievements-btn" class="btn btn-outline-secondary">Achievements</button>
                    <button id="contact-btn" class="btn btn-outline-secondary">Contact</button>
                </div>
            </div>
        </header>
        
        <div id="main-body">
            <div class="container">
                <div id="about-header" class="page-header text-center">
	  		        <h1>About</h1>
	  		        <hr>
		        </div>
		        <div class="text-container">
                    <h2>Muhammad Hamza Khan</h1>
                    <h3>Class of Spring 2019</h2>
                    <div class="content hideContent">
                        <p>I am a junior Computer Engineering student intrigued by the current potential of AI and Machine Learning in the industry. Looking forward to combine technical skills with leadership and teamwork to shape the modern era of technology.</p>
                        <h2>Background</h2>
                            <p>Studying in Kashmir, a school without walls under the shade of a tree in an open land situated in the disputed territory between Pakistan and India, I recall myself desperately trying to memorize the name of days in a week in fear of being whipped with a stick by a teacher. I spent 3 years of my primary education in this so-called school until grade 4th, pondering over my future and being deprived of a strong educational base. This marked the conception of an adventurous journey of my life which took countless turns, changing me holistically to a leader I am now.
                            </p>
                            <p>From a school without a classroom to one of the most prestigious high schools of Pakistan, from surviving in a bunker for two months during war to living a privileged life in a metropolitan city, from being in a conservative society in a small village to living in a multicultural society of Chicago, from travelling with a protocol of cars to sitting on a donkey cart, my life has given me an exposure to almost every possible variation one can experience. Having all these diverging perspectives and mutually exclusive experiences, I am capable of bringing my own unique macro perspective. In this process, I have embraced my identity and background, and I have learned to work with diverse people, encouraging others to change me or help me change them for our betterment.
                            </p>
                            <p>My dad is from a military background so due to his annual postings in different cities of Pakistan, I have transferred to 10 different schools in 8 different cities throughout the span of my primary and secondary education. Every year, I had to settle in a new city, a new school, make new friends, adjust to new teaching methods, adapt to new norms and engage in extracurricular activities. It wasn't easy to change continuously every time but then it grew on me. I now enjoy being challenged to not just adapt quickly but also to excel in leadership roles and academics while adjusting to changes. I have the ability to be an influence in minimal time and use my skills to justify the leadership roles I choose to take.
                            </p>
                            <p>In the course of my life I have seen a lot of ups and downs but it has not stopped me from dreaming big. I have certainly been hit hard by failures, but I have come out stronger than before every single time. I only started learning English at the age of 13, and here I am now in one of the top engineering schools in the United States. I have travelled halfway across the world all by myself with an intention to fulfill my goals and change the way how my country is portrayed. With this unique perspective, background, distinct adaptive skills and driving power, I can add on to the diversity of a team, bring the team another strong point of view, and mentor the community around us for empowerment. 
                            </p>
                            <p>I have a powerful story to tell and I aspire to inspire others with it. My experiences have assured me that nothing is impossible and with the right directions and guidelines; I believe I can change the world.
                            </p>
                            
                    </div>
                    <div class="show-more">
                        <button type="button" class="btn btn-success">Show more</button>
                    </div>
                </div>
                <div id="project-header" class="page-header text-center">
	  		        <h1>Projects</h1>
	  		        <hr>
		        </div>
                <div class="row">
                    <div class="col-md-6 col-sm-12">
                        <div class="lead">
	  				        <h2>IIT Motorsports Fully Electric Car (September 2016-May 2017)</h2>
	  				        <h2>Software Engineer</h2>
    				    </div>
    				    <p> A team of 26 individuals divided into Electrical, Powertrain, Chassy, Suspension and Aerodynamics teams, successfully designed and built a fully elecric car. The team competed in Formula Hybrid Compettition in New Hampshire 2017 and secured a spot in the top 4. The following were my contributions:</p>
    				   <ul>
    				     <li>Implemented CAN network by making an arduino-C library to enable effective communcation between multiple Electronic Control Units.</li>
    				     <li>Configurated the motor controller and tuned the motor by running multiple tests and simulations.</li>
    				     <li>Generated algorithms for AMS testing, programming startup sequence and translating analogue inputs from pedals to hex commands for motor controller. </li>
    				     <li>Deployed the electrical system on the vehicle and optimized software to maximize performnace.</li>
    				   </ul>
                    </div>
                    
                    <div id="car" class="col-md-6">
                        <!--cad canvas here-->
                    </div>
                </div>
                <div id="achievements-header" class="page-header text-center">
	  		        <h1>Achievements</h1>
	  		        <hr>
		        </div>

                <div class="lead">
	  			    <h2>Leadeship Academy Scholar</h2>
    			</div>
    				
    			<p>The Leadership Academy scholarship is awarded to undergraduate students who possess exceptional leadership potential while being acdemically strong. Recipients of the scholarship receive a full-tuition award for up to four years of undergraduate education and participate in an intensive leadership-development program, including:
                </p>
                <ul>
                <li>Assisting in facilitating the sophomore leadership retreat experience</li>
                <li>A series of leadership seminars and workshops</li>
                <li>Assignment to a professional mentor</li>
                <li>Leadership Academy Scholars will receive a Certificate in Leadership Studies upon successful completion of the academyâ€™s programs.</li>
                </ul>
                <div id="contact-header" class="page-header text-center">
	  		        <h1>Contact</h1>
	  		        <hr>
		        </div>
		
        		<div id="contact-row" class="row hidden-sm hidden-xs">
        			<div class="col-md-3">
        			    <!--add your github link here-->
        				<a href="https://github.com/mkhan62/" target="_blank" class="img contact-icons">
        					<div class="overlay">Github</div>
        					<i class="fa fa-github" aria-hidden="true"></i>
        				</a>
        			</div>
        		
        			<div class="col-md-3">
        				<a href="static/Resum2.6.pdf" target="_blank" class="img contact-icons">
        					<div class="overlay">Resum2.6</div>
        					<i class="fa fa-file-text" aria-hidden="true"></i>
        				</a>
        			</div>
        		
        			<div class="col-md-3">
        				<a href="https://www.linkedin.com/in/mkhan62/" target="_blank" class="img contact-icons">
        					<div class="overlay">LinkedIn</div>
        					<i class="fa fa-linkedin-square" aria-hidden="true"></i>
        				</a>
        			</div>
        			
        			<div class="col-md-3">
        				<a data-toggle="popover" data-placement="bottom" data-content="Email copied to cliboard" data-clipboard-target="#foo" id="email" class="img contact-icons">
        					<div id="foo" class="overlay">mkhan62@hawk.iit.edu</div>
        					<i class="fa fa-envelope" aria-hidden="true"></i>
        				</a>
        			</div>
        		</div>
        </div>

    </body>
    
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/three.js/87/three.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/three.js/87/three.module.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>

    <script type="text/javascript" src="scripts/main.js"></script>
    <script type="text/javascript" src="scripts/detector.js"></script>
    <script type="text/javascript" src="scripts/stats.js"></script>
    
            <script>
            var camera, scene, renderer,
            geometry, material, mesh, light1, stats;
            function trim (str) {
                str = str.replace(/^\s+/, '');
                for (var i = str.length - 1; i >= 0; i--) {
                    if (/\S/.test(str.charAt(i))) {
                        str = str.substring(0, i + 1);
                        break;
                    }
                }
                return str;
            }
            // Notes:
            // - STL file format: http://en.wikipedia.org/wiki/STL_(file_format)
            // - 80 byte unused header
            // - All binary STLs are assumed to be little endian, as per wiki doc
            var parseStlBinary = function(stl) {
                var geo = new THREE.Geometry();
                var dv = new DataView(stl, 80); // 80 == unused header
                var isLittleEndian = true;
                var triangles = dv.getUint32(0, isLittleEndian); 
                // console.log('arraybuffer length:  ' + stl.byteLength);
                // console.log('number of triangles: ' + triangles);
                var offset = 4;
                for (var i = 0; i < triangles; i++) {
                    // Get the normal for this triangle
                    var normal = new THREE.Vector3(
                        dv.getFloat32(offset, isLittleEndian),
                        dv.getFloat32(offset+4, isLittleEndian),
                        dv.getFloat32(offset+8, isLittleEndian)
                    );
                    offset += 12;
                    // Get all 3 vertices for this triangle
                    for (var j = 0; j < 3; j++) {
                        geo.vertices.push(
                            new THREE.Vector3(
                                dv.getFloat32(offset, isLittleEndian),
                                dv.getFloat32(offset+4, isLittleEndian),
                                dv.getFloat32(offset+8, isLittleEndian)
                            )
                        );
                        offset += 12
                    }
                    // there's also a Uint16 "attribute byte count" that we
                    // don't need, it should always be zero.
                    offset += 2;   
                    // Create a new face for from the vertices and the normal             
                    geo.faces.push(new THREE.Face3(i*3, i*3+1, i*3+2, normal));
                }
                // The binary STL I'm testing with seems to have all
                // zeroes for the normals, unlike its ASCII counterpart.
                // We can use three.js to compute the normals for us, though,
                // once we've assembled our geometry. This is a relatively 
                // expensive operation, but only needs to be done once.
                geo.computeFaceNormals();
                mesh = new THREE.Mesh( 
                    geo,
                    // new THREE.MeshNormalMaterial({
                    //     overdraw:true
                    // }
                    new THREE.MeshLambertMaterial({
                        overdraw:true,
                        color: 0x6f7072,
                        shading: THREE.FlatShading
                    }
                ));
                scene.add(mesh);
                stl = null;
            };  
            var parseStl = function(stl) {
                var state = '';
                var lines = stl.split('\n');
                var geo = new THREE.Geometry();
                var name, parts, line, normal, done, vertices = [];
                var vCount = 0;
                stl = null;
                for (var len = lines.length, i = 0; i < len; i++) {
                    if (done) {
                        break;
                    }
                    line = trim(lines[i]);
                    parts = line.split(' ');
                    switch (state) {
                        case '':
                            if (parts[0] !== 'solid') {
                                console.error(line);
                                console.error('Invalid state "' + parts[0] + '", should be "solid"');
                                return;
                            } else {
                                name = parts[1];
                                state = 'solid';
                            }
                            break;
                        case 'solid':
                            if (parts[0] !== 'facet' || parts[1] !== 'normal') {
                                console.error(line);
                                console.error('Invalid state "' + parts[0] + '", should be "facet normal"');
                                return;
                            } else {
                                normal = [
                                    parseFloat(parts[2]), 
                                    parseFloat(parts[3]), 
                                    parseFloat(parts[4])
                                ];
                                state = 'facet normal';
                            }
                            break;
                        case 'facet normal':
                            if (parts[0] !== 'outer' || parts[1] !== 'loop') {
                                console.error(line);
                                console.error('Invalid state "' + parts[0] + '", should be "outer loop"');
                                return;
                            } else {
                                state = 'vertex';
                            }
                            break;
                        case 'vertex': 
                            if (parts[0] === 'vertex') {
                                geo.vertices.push(new THREE.Vector3(
                                    parseFloat(parts[1]),
                                    parseFloat(parts[2]),
                                    parseFloat(parts[3])
                                ));
                            } else if (parts[0] === 'endloop') {
                                geo.faces.push( new THREE.Face3( vCount*3, vCount*3+1, vCount*3+2, new THREE.Vector3(normal[0], normal[1], normal[2]) ) );
                                vCount++;
                                state = 'endloop';
                            } else {
                                console.error(line);
                                console.error('Invalid state "' + parts[0] + '", should be "vertex" or "endloop"');
                                return;
                            }
                            break;
                        case 'endloop':
                            if (parts[0] !== 'endfacet') {
                                console.error(line);
                                console.error('Invalid state "' + parts[0] + '", should be "endfacet"');
                                return;
                            } else {
                                state = 'endfacet';
                            }
                            break;
                        case 'endfacet':
                            if (parts[0] === 'endsolid') {
                                //mesh = new THREE.Mesh( geo, new THREE.MeshNormalMaterial({overdraw:true}));
                                mesh = new THREE.Mesh( 
                                    geo, 
                                    new THREE.MeshLambertMaterial({
                                        overdraw:true,
                                        color: 0xff0000,
                                        shading: THREE.FlatShading
                                    }
                                ));
                                scene.add(mesh);
                                done = true;
                            } else if (parts[0] === 'facet' && parts[1] === 'normal') {
                                normal = [
                                    parseFloat(parts[2]), 
                                    parseFloat(parts[3]), 
                                    parseFloat(parts[4])
                                ];
                                if (vCount % 1000 === 0) {
                                    console.log(normal);
                                }
                                state = 'facet normal';
                            } else {
                                console.error(line);
                                console.error('Invalid state "' + parts[0] + '", should be "endsolid" or "facet normal"');
                                return;
                            }
                            break;
                        default:
                            console.error('Invalid state "' + state + '"');
                            break;
                    }
                }
            };
            //shazy sehnaningans
            init();
            animate();
            function init() {
                //Detector.addGetWebGLMessage();
                var carWidth = $('#car').width();
                var carHeight = $('#car').height();
                console.log(carHeight);
                console.log(carWidth);
                scene = new THREE.Scene();
                camera = new THREE.PerspectiveCamera( 100, carWidth/carHeight, 0.1, 9000000 );
                camera.position.z = 250;
                camera.position.y = 120;
                scene.add( camera );
                var directionalLight = new THREE.DirectionalLight( 0xffffff );
                directionalLight.position.x = 0; 
                directionalLight.position.y = 0; 
                directionalLight.position.z = 1; 
                directionalLight.position.normalize();
                scene.add( directionalLight );
                var xhr = new XMLHttpRequest();
                xhr.onreadystatechange = function () {
                    if ( xhr.readyState == 4 ) {
                        if ( xhr.status == 200 || xhr.status == 0 ) {
                            var rep = xhr.response; // || xhr.mozResponseArrayBuffer;
                            console.log(rep);
                            parseStlBinary(rep);
                            //parseStl(xhr.responseText);
                            mesh.rotation.x = 50;
                            mesh.rotation.z = 0;
                            console.log('done parsing');
                        }
                    }
                }
                xhr.onerror = function(e) {
                    console.log(e);
                }
                
                xhr.open( "GET", 'static/Car.stl', true );
                xhr.responseType = "arraybuffer";
                //xhr.setRequestHeader("Accept","text/plain");
                //xhr.setRequestHeader("Content-Type","text/plain");
                //xhr.setRequestHeader('charset', 'x-user-defined');
                xhr.send( null );
                renderer = new THREE.WebGLRenderer(); //new THREE.CanvasRenderer();
                renderer.setClearColor( 0xffffff, 1);
                renderer.setSize( carWidth, carHeight );
                document.getElementById("car").appendChild( renderer.domElement );
                stats = new Stats();
                stats.domElement.style.position = 'absolute';
                stats.domElement.style.top = '0px';
                document.getElementById("car").appendChild(stats.domElement);
            }
            function animate() {
                // note: three.js includes requestAnimationFrame shim
                requestAnimationFrame( animate );
                render();
                stats.update();
            }
            function render() {
                //mesh.rotation.x += 0.01;
                if (mesh) {
                    mesh.rotation.y += 0.002;
                }
                //light1.position.z -= 1;
                renderer.render( scene, camera );
            }
        </script>
</html>